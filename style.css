:root{
  --purple: #6b4eff;
  --purple-soft: #f4f1ff;
  --border: #e6e0fa;
  --muted: #666;
  --bg: #ffffff;

  /* === WIDTHS: редактируй здесь (проценты) ===
     Сумма значений должна быть примерно 100% (рекомендовано).
     Пример ниже: подбери под свой контент.
     Меняешь значения — сохраняешь и пушишь в репо (только ты).
  */
  --w-c1: 4%;    /* № */
  --w-c2: 24%;   /* Функция */
  --w-c3: 9%;    /* Продукт */
  --w-c4: 8%;    /* Департамент */
  --w-c5: 8%;    /* Отдел */
  --w-c6: 9%;    /* Должность */
  --w-c7: 6%;    /* Роль */
  --w-c8: 7%;    /* Вход */
  --w-c9: 6%;    /* От кого / как */
  --w-c10: 7%;   /* Выход */
  --w-c11: 6%;   /* Кому */
  --w-c12: 5%;   /* ПО */
  --w-c13: 3%;   /* Метрика */
  --w-c14: 3%;   /* Как цифруем */
  --w-c15: 3%;   /* Комментарий (можешь увеличить) */
  /* ========================================== */
}

/* ===== base styling (compact header + table styles) ===== */
*{ box-sizing: border-box }
body{ margin:0; font-family: Inter, "Helvetica Neue", Arial, sans-serif; background:#fafafa; color:#222 }

/* compact header (same as ранее) */
.compact-header{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 14px; background:var(--bg); border-bottom:1px solid var(--border); height:84px; box-sizing:border-box; }
.header-left{ display:flex; align-items:center; gap:12px; min-width:0; }
.header-image{ width:56px; height:56px; object-fit:cover; border-radius:6px; }
.title-compact h1{ margin:0; font-size:16px; line-height:1; font-weight:600; }
.subtitle-compact{ margin:2px 0 0; font-size:12px; color:var(--muted); }
.header-right{ display:flex; align-items:center; gap:12px; min-width:0; }
.controls-compact{ display:flex; gap:8px; align-items:center; flex-wrap:nowrap; min-width:0; }
.filter-compact{ display:flex; flex-direction:column; gap:4px; min-width:120px; max-width:220px; }
.filter-compact label{ font-size:11px; color:var(--muted); margin:0; }
.filter-compact select{ padding:6px 8px; font-size:13px; border-radius:6px; border:1px solid var(--border); background:#fff; min-width:120px; }
.actions-compact{ display:flex; gap:8px; align-items:center; }
button{ font-family:inherit; }
.btn-light{ background:transparent; border:1px solid #ddd; padding:6px 10px; border-radius:6px; font-size:13px; cursor:pointer; }
.btn-primary{ background:var(--purple); color:#fff; border:none; padding:6px 10px; border-radius:6px; font-size:13px; cursor:pointer; }

.main-area{ padding:12px 14px 28px }
.info{ padding:8px 10px; margin-bottom:8px; border-radius:8px; background:#fff6; color:#333; font-size:13px }
.hidden{ display:none }

.table-wrapper{ max-height: calc(100vh - 180px); overflow:auto; background:var(--bg); border:1px solid var(--border); border-radius:8px; }

/* table: fixed layout so <col> widths apply predictably */
table{ width:100%; border-collapse:collapse; background:#fff; font-size:13px; table-layout: fixed; }
thead th{ position:sticky; top:0; z-index:10; background:var(--purple-soft); border-bottom:2px solid var(--border); padding:10px 12px; text-align:left; font-weight:600; white-space:nowrap; vertical-align:middle; }
th, td{ padding:10px 12px; white-space:normal; word-break:normal; overflow-wrap:break-word; border-bottom:1px solid var(--border); }
tbody td{ vertical-align:top }
tbody tr:hover{ background:#fbf8ff }

/* ===== column widths via col classes (only edit variables above) ===== */
col.c1 { width: var(--w-c1); }
col.c2 { width: var(--w-c2); }
col.c3 { width: var(--w-c3); }
col.c4 { width: var(--w-c4); }
col.c5 { width: var(--w-c5); }
col.c6 { width: var(--w-c6); }
col.c7 { width: var(--w-c7); }
col.c8 { width: var(--w-c8); }
col.c9 { width: var(--w-c9); }
col.c10 { width: var(--w-c10); }
col.c11 { width: var(--w-c11); }
col.c12 { width: var(--w-c12); }
col.c13 { width: var(--w-c13); }
col.c14 { width: var(--w-c14); }
col.c15 { width: var(--w-c15); }

/* small niceties */
.col-id{ text-align:center; white-space:nowrap; }
.col-function{ font-weight:500; }
.col-text-medium{ font-size:12px; line-height:1.35; }
.col-text-wide{ font-size:12px; line-height:1.35; }

/* role column center wrapper */
td.col-role{ width:auto; text-align:center; vertical-align:top; padding-top:8px; padding-bottom:8px; }
td.col-role .rolewrap{ display:flex; align-items:center; justify-content:center; height:100%; width:100%; box-sizing:border-box; }
.role{ display:inline-block; padding:6px 8px; border-radius:6px; background: rgba(107,78,255,0.08); color:var(--purple); font-weight:700; cursor:help; line-height:1; position:relative; z-index:2; }
.role::after{ content: attr(data-tooltip); position:absolute; left:110%; top:50%; transform:translateY(-50%); width:300px; max-width:45vw; background:#fff; border:1px solid var(--border); color:#2b225a; padding:10px 12px; border-radius:8px; font-size:13px; line-height:1.4; box-shadow:0 8px 24px rgba(0,0,0,.12); opacity:0; pointer-events:none; transition:opacity .12s ease; z-index:9999; white-space:normal; visibility:hidden; }
.role[data-tooltip]:hover::after{ opacity:1; visibility:visible; }

/* toast */
.toast{ position:fixed; right:20px; bottom:20px; background:#222; color:#fff; padding:10px 14px; border-radius:8px; box-shadow:0 6px 20px rgba(0,0,0,.18); z-index:20000; font-size:13px; opacity:1; transition:opacity .25s ease; }
.toast.hidden{ opacity:0; pointer-events:none; transform:translateY(8px); }

/* responsive tweaks */
@media (max-width:900px){
  .controls-compact{ flex-wrap:wrap; gap:6px; }
  .filter-compact select{ min-width:100px; }
}
